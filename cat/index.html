<!-- simple redirect to cdn2.thecatapi.com/images/[id].jpg -->
<!-- usage: https://www.tomcat.sh/cat/?!=id                -->
<p>loading...</p>
<script>
  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);
  const id = urlParams.get("!");
  if (id) {
    window.location.href = "https://cdn2.thecatapi.com/images/" + id + (id.includes(".gif") ? "" : ".jpg");
  } else {
    fetch("https://api.thecatapi.com/v1/images/search")
      .then(response => response.json())
      .then(data => {
        if (data && data[0] && data[0].url) {
          window.location.href = data[0].url;
        }
      });
  }
</script>